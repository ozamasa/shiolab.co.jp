---
import BaseLayout from "../layouts/BaseLayout.astro";
import { microcms } from "../lib/microcms";

const res = microcms
  ? await microcms.getList({
      endpoint: "articles",
      queries: { limit: 6, orders: "-publishedAt" },
    })
  : { contents: [] };

const latest = res.contents;
---

<BaseLayout
  title="SHIOLAB｜試験攻略メディア"
  description="資格・受験・学校試験などの攻略パターンを体系化する学習メディア"
>
  <section class="card">
    <h1>SHIOLAB</h1>
    <p>
      SHIOLABは、各種試験の4択問題における
      「選択肢の切り方」を体系化する学習メディアです。
    </p>
  </section>

  <h2>最新記事</h2>

  <section class="grid">
    {latest.map((a) => (
      <article class="card">
        <h3>
          <a href={`/articles/${a.id}/`}>{a.title}</a>
        </h3>
        {a.description && <p>{a.description}</p>}
      </article>
    ))}
  </section>
</BaseLayout>