---
const { title, description } = Astro.props;
const fullTitle = title ? `${title}` : "SHIOLAB";
const metaDescription =
  description ??
  "資格試験・受験・学校学習の4択問題を、「なぜこの選択肢は切れるのか」の視点で整理した学習メディア。";
---

<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{fullTitle}</title>
    <meta name="description" content={metaDescription} />
    <meta name="robots" content="index,follow" />
    <link rel="icon" href="/favicon.svg" />
  </head>
  <body>
    <header class="siteHeader">
      <div class="container headerRow">
        <a class="brand" href="/">
          <span class="brandMark" aria-hidden="true">◎</span>
          <span class="brandText">SHIOLAB</span>
        </a>

        <nav class="nav">
          <a href="/articles/">記事</a>
          <a href="https://quiz.shiolab.co.jp/" target="_blank" rel="noopener">クイズ</a>
          <a href="/guide/">使い方</a>
        </nav>
      </div>
    </header>

    <main class="container main">
      <slot />
    </main>

    <footer class="siteFooter">
      <div class="container footerInner">
        <div class="footerLeft">
          <div class="footerBrand">SHIOLAB</div>
          <p class="footerDesc">
            4択問題を「切れる理由」で整理する学習メディア
          </p>
        </div>

        <div class="footerLinks">
          <a href="/privacy/">プライバシーポリシー</a>
          <a href="/terms/">利用規約</a>
          <a href="/disclaimer/">免責事項</a>
        </div>
      </div>
      <div class="container footerBottom">
        <small>© {new Date().getFullYear()} SHIOLAB</small>
      </div>
    </footer>

    <style>
      :root {
        --bg: #f7f8fb;
        --panel: #ffffff;
        --text: #0f172a;
        --muted: #475569;
        --border: rgba(15, 23, 42, 0.10);

        /* テーマカラー（学習＝落ち着き＋信頼） */
        --accent: #2563eb; /* blue */
        --accent2: #0ea5e9; /* sky */
        --accentSoft: rgba(37, 99, 235, 0.12);

        --radius: 16px;
        --shadow: 0 10px 28px rgba(15, 23, 42, 0.10);
      }

      * { box-sizing: border-box; }
      html, body { margin: 0; padding: 0; }
      body {
        background: radial-gradient(1200px 600px at 10% -10%, rgba(14,165,233,0.12), transparent 55%),
                    radial-gradient(900px 500px at 90% 0%, rgba(37,99,235,0.10), transparent 60%),
                    var(--bg);
        color: var(--text);
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
        line-height: 1.7;
      }

      a { color: var(--accent); text-decoration: none; }
      a:hover { text-decoration: underline; }

      .container {
        max-width: 1080px;
        margin: 0 auto;
        padding: 0 18px;
      }

      /* Header */
      .siteHeader {
        position: sticky;
        top: 0;
        z-index: 10;
        background: rgba(247, 248, 251, 0.75);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid var(--border);
      }
      .headerRow {
        height: 64px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }
      .brand {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        font-weight: 800;
        color: var(--text);
      }
      .brandMark {
        width: 32px;
        height: 32px;
        display: grid;
        place-items: center;
        border-radius: 10px;
        background: linear-gradient(135deg, var(--accent), var(--accent2));
        color: #fff;
        box-shadow: 0 8px 18px rgba(37,99,235,0.25);
        font-size: 16px;
      }
      .brandText { letter-spacing: 0.02em; }
      .nav {
        display: flex;
        align-items: center;
        gap: 14px;
        flex-wrap: wrap;
      }
      .nav a {
        color: var(--text);
        font-weight: 600;
        font-size: 14px;
        padding: 8px 10px;
        border-radius: 999px;
      }
      .nav a:hover {
        background: rgba(15, 23, 42, 0.05);
        text-decoration: none;
      }

      /* Main */
      .main { padding: 22px 0 48px; }

      /* Common components */
      .card {
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        box-shadow: 0 6px 18px rgba(15,23,42,0.06);
        padding: 18px;
      }
      .cardHover:hover {
        box-shadow: var(--shadow);
        transform: translateY(-1px);
        transition: box-shadow 160ms ease, transform 160ms ease;
        text-decoration: none;
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 14px;
      }
      .stack { display: grid; gap: 12px; }

      .pageTitle {
        margin: 0 0 10px;
        font-size: 28px;
        letter-spacing: -0.02em;
      }
      .lead {
        margin: 0;
        color: var(--muted);
        font-size: 15px;
      }

      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 10px 14px;
        border-radius: 999px;
        border: 1px solid rgba(37, 99, 235, 0.25);
        background: linear-gradient(135deg, var(--accent), var(--accent2));
        color: #fff;
        font-weight: 700;
        font-size: 14px;
        text-decoration: none;
        box-shadow: 0 10px 20px rgba(37,99,235,0.20);
      }
      .btn:hover { text-decoration: none; filter: brightness(0.98); }
      .btn.sub {
        background: #fff;
        color: var(--text);
        border: 1px solid var(--border);
        box-shadow: none;
      }
      .btn.sub:hover { background: rgba(15,23,42,0.03); }

      .inlineCta { display:flex; gap:10px; flex-wrap:wrap; margin-top: 14px; }

      .muted { color: var(--muted); }

      .metaRow {
        display:flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 12px;
        flex-wrap: wrap;
      }
      .metaTags { display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
      .metaLabel { font-size:12px; color: var(--muted); }
      .metaDate { font-size:12px; color: var(--muted); white-space: nowrap; }
      .tag {
        display:inline-flex;
        align-items:center;
        padding: 4px 10px;
        border-radius: 999px;
        border: 1px solid rgba(37,99,235,0.18);
        background: var(--accentSoft);
        color: var(--accent);
        font-weight: 700;
        font-size: 12px;
        text-decoration: none;
      }
      .tag:hover { text-decoration:none; filter: brightness(0.98); }
      .tag.muted {
        background: rgba(15,23,42,0.04);
        border-color: rgba(15,23,42,0.08);
        color: var(--muted);
      }

      .cardTitle {
        margin: 0 0 8px;
        font-size: 18px;
        letter-spacing: -0.01em;
      }
      .cardTitle a { color: var(--text); }
      .cardTitle a:hover { text-decoration: underline; }

      .cardDesc {
        margin: 0 0 10px;
        font-size: 14px;
        color: var(--muted);
      }
      .cardMeta {
        display:flex;
        align-items:center;
        justify-content: space-between;
        gap: 10px;
        flex-wrap: wrap;
        font-size: 12px;
        color: var(--muted);
      }

      /* Hero */
      .hero {
        padding: 18px;
        border-radius: calc(var(--radius) + 6px);
        background: linear-gradient(135deg, rgba(37,99,235,0.10), rgba(14,165,233,0.08));
        border: 1px solid rgba(37,99,235,0.14);
        margin-bottom: 20px;
      }
      .heroInner { max-width: 740px; }
      .kicker {
        margin: 0 0 10px;
        display:inline-flex;
        padding: 6px 10px;
        border-radius: 999px;
        background: rgba(15,23,42,0.06);
        color: var(--text);
        font-size: 12px;
        font-weight: 800;
      }
      .heroTitle {
        margin: 0 0 10px;
        font-size: 40px;
        line-height: 1.1;
        letter-spacing: -0.03em;
      }
      .heroLead { margin: 0; color: var(--muted); font-size: 16px; }
      .heroActions { display:flex; gap:10px; flex-wrap:wrap; margin-top: 16px; }

      /* Section header */
      .sectionHeader {
        margin: 26px 0 12px;
      }
      .sectionHeader h2 {
        margin: 0 0 4px;
        font-size: 20px;
        letter-spacing: -0.01em;
      }
      .sectionHeader p { margin: 0; color: var(--muted); font-size: 13px; }

      .splitRow {
        margin-top: 22px;
        display: grid;
        grid-template-columns: 1.6fr 0.9fr;
        gap: 14px;
        align-items: start;
      }
      .sideCard {
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 18px;
        position: sticky;
        top: 86px;
        box-shadow: 0 6px 18px rgba(15,23,42,0.06);
      }
      .steps { margin: 10px 0 0; padding-left: 18px; color: var(--muted); }
      .steps li { margin: 6px 0; }

      /* Category cards */
      .catCard { color: inherit; text-decoration: none; }
      .catTop { display:flex; justify-content: space-between; gap: 10px; align-items: center; }
      .catTitle { margin: 0; font-size: 16px; color: var(--text); }
      .count {
        display:grid;
        place-items:center;
        min-width: 28px;
        height: 28px;
        padding: 0 8px;
        border-radius: 999px;
        background: rgba(15,23,42,0.06);
        color: var(--text);
        font-weight: 800;
        font-size: 12px;
      }
      .catDesc { margin: 10px 0 0; font-size: 13px; color: var(--muted); }

      .cardRow {
        display:flex;
        gap: 10px;
        justify-content: space-between;
        align-items: center;
      }
      .arrow { color: rgba(15,23,42,0.35); font-weight: 900; }

      /* Prose (article body) */
      .prose {
        color: var(--text);
      }
      .prose :global(p) { margin: 0 0 14px; }
      .prose :global(h2) {
        margin: 26px 0 10px;
        font-size: 20px;
      }
      .prose :global(h3) {
        margin: 20px 0 8px;
        font-size: 16px;
      }
      .prose :global(ul), .prose :global(ol) { margin: 0 0 14px; padding-left: 20px; }
      .prose :global(code) {
        background: rgba(15,23,42,0.06);
        padding: 2px 6px;
        border-radius: 6px;
        font-size: 0.95em;
      }
      .prose :global(blockquote) {
        margin: 0 0 14px;
        padding: 10px 12px;
        border-left: 4px solid rgba(37,99,235,0.35);
        background: rgba(37,99,235,0.06);
        border-radius: 10px;
        color: var(--muted);
      }

      /* Footer */
      .siteFooter {
        margin-top: 30px;
        padding: 26px 0;
        border-top: 1px solid var(--border);
        background: rgba(255,255,255,0.45);
      }
      .footerInner {
        display:flex;
        justify-content: space-between;
        gap: 16px;
        flex-wrap: wrap;
        align-items: flex-start;
      }
      .footerBrand { font-weight: 900; letter-spacing: 0.02em; }
      .footerDesc { margin: 6px 0 0; color: var(--muted); font-size: 13px; }
      .footerLinks { display:flex; gap: 12px; flex-wrap: wrap; }
      .footerLinks a { color: var(--muted); font-weight: 700; font-size: 13px; }
      .footerLinks a:hover { color: var(--text); text-decoration: none; }
      .footerBottom { margin-top: 14px; color: var(--muted); font-size: 12px; }

      /* Responsive */
      @media (max-width: 960px) {
        .grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        .splitRow { grid-template-columns: 1fr; }
        .sideCard { position: static; }
      }
      @media (max-width: 520px) {
        .grid { grid-template-columns: 1fr; }
        .heroTitle { font-size: 34px; }
        .pageTitle { font-size: 24px; }
        .headerRow { height: auto; padding: 10px 0; }
      }
    </style>
  </body>
</html>
